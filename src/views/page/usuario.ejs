<!--begin::Subheader-->
<div class="subheader py-4 pt-lg-0 pb-lg-10 " id="kt_subheader">
    <div class=" container-fluid  d-flex align-items-center justify-content-between flex-wrap">
		<!--begin::Info-->
        <div class="d-flex align-items-center py-2 mr-1">
            <!--begin::Icon page-->
            <button class="btn btn-icon btn-hover-icon-success mr-2 pl-0 justify-content-start d-none d-lg-flex">
                <span class="svg-icon svg-icon-3x">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <polygon points="0 0 24 0 24 24 0 24"/>
                            <path d="M18,14 C16.3431458,14 15,12.6568542 15,11 C15,9.34314575 16.3431458,8 18,8 C19.6568542,8 21,9.34314575 21,11 C21,12.6568542 19.6568542,14 18,14 Z M9,11 C6.790861,11 5,9.209139 5,7 C5,4.790861 6.790861,3 9,3 C11.209139,3 13,4.790861 13,7 C13,9.209139 11.209139,11 9,11 Z" fill="#000000" fill-rule="nonzero" opacity="0.3"/>
                            <path d="M17.6011961,15.0006174 C21.0077043,15.0378534 23.7891749,16.7601418 23.9984937,20.4 C24.0069246,20.5466056 23.9984937,21 23.4559499,21 L19.6,21 C19.6,18.7490654 18.8562935,16.6718327 17.6011961,15.0006174 Z M0.00065168429,20.1992055 C0.388258525,15.4265159 4.26191235,13 8.98334134,13 C13.7712164,13 17.7048837,15.2931929 17.9979143,20.2 C18.0095879,20.3954741 17.9979143,21 17.2466999,21 C13.541124,21 8.03472472,21 0.727502227,21 C0.476712155,21 -0.0204617505,20.45918 0.00065168429,20.1992055 Z" fill="#000000" fill-rule="nonzero"/>
                        </g>
                    </svg>
                </span>
            </button>
            <!--end::Icon page-->

			<div class="d-flex flex-column mr-5">
				<!--begin::Page Title-->
	            <h4 class="text-dark font-weight-bold py-1 mr-5 my-0">
                    Administración de usuarios
                    <small class="text-muted">Registra la plantilla de colaboradores</small>
	            </h4>
				<!--end::Page Title-->

	            <!--begin::Breadcrumb-->
	            <ul class="breadcrumb breadcrumb-transparent breadcrumb-dot font-weight-bold p-0 m-0 font-size-sm">
                    <li class="breadcrumb-item">
                        <a href="/" class="text-muted">
                            Disse tickets
                        </a>
                    </li>
                    <li class="breadcrumb-item">
                        <a href="javascript:void(0);" class="text-muted">
                            Administración
                        </a>
                    </li>
                    <li class="breadcrumb-item">
                        <a href="javascript:void(0);" class="text-muted">
                            Usuario
                        </a>
                    </li>
                </ul>
				<!--end::Breadcrumb-->
	        </div>
        </div>
		<!--end::Info-->

        <!--begin::Toolbar-->
        <!-- <div class="d-flex align-items-center flex-wrap py-2">
            <button type="button" id="kt_general_actions_toggle" class="flex-shrink-0 btn btn-fixed-height btn-primary font-weight-bolder font-size-sm px-5">
                <i class="flaticon2-add-1 icon-sm"></i> Nuevo
            </button>
        </div> -->
        <!--end::Toolbar-->
    </div>
</div>

<!--begin::Entry-->
<div class="d-flex flex-column-fluid">
    <!--begin::Container-->
    <div class="container-fluid">
        <div class="card card-custom">
            <div class="card-header flex-wrap border-0 pt-0 pb-0">
                <div class="card-title">
                    <h3 class="card-label">
                        Usuarios
                        <span class="d-block text-muted pt-2 font-size-sm">Administración de plantilla de colaboradores</span>
                    </h3>
                </div>
                <div class="card-toolbar">
                    <a href="javascript:void(0);" class="btn btn-primary font-weight-bolder" id="kt_general_actions_toggle">
                        <span class="svg-icon svg-icon-md">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                    <rect x="0" y="0" width="24" height="24"/>
                                    <circle fill="#000000" cx="9" cy="15" r="6"/>
                                    <path d="M8.8012943,7.00241953 C9.83837775,5.20768121 11.7781543,4 14,4 C17.3137085,4 20,6.6862915 20,10 C20,12.2218457 18.7923188,14.1616223 16.9975805,15.1987057 C16.9991904,15.1326658 17,15.0664274 17,15 C17,10.581722 13.418278,7 9,7 C8.93357256,7 8.86733422,7.00080962 8.8012943,7.00241953 Z" fill="#000000" opacity="0.3"/>
                                </g>
                            </svg>
                        </span>	Nuevo usuario
                    </a>
                </div>
            </div>

            <div class="card-body pt-0">
                <div class="mb-7">
                    <div class="row align-items-center">
                        <div class="col-lg-6 col-xl-6">
                            <div class="row align-items-center">
                                <div class="col-md-12 my-2 my-md-0">
                                    <div class="input-icon">
                                        <input type="text" class="form-control" placeholder="Buscar en la tabla..." id="kt_datatable_search_query" />
                                        <span><i class="flaticon2-search-1 text-muted"></i></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--begin: Datatable-->
                <div class="datatable datatable-bordered datatable-head-custom" id="kt_datatable"></div>
                <!--end: Datatable-->
            </div>
        </div>
    </div>
</div>

<!--begin::General actions Panel-->
<div id="kt_general_actions" class="offcanvas offcanvas-lg offcanvas-lg-right p-10">
    <div class="offcanvas-header d-flex align-items-center justify-content-between pb-10">
        <h3 class="font-weight-bold m-0">Información de la cuenta</h3>
        <a href="javascript:void(0);" class="btn btn-xs btn-icon btn-light btn-hover-warning" id="kt_general_actions_close">
            <i class="ki ki-close icon-xs text-muted"></i>
        </a>
    </div>

    <div class="offcanvas-content ">
        <div class="offcanvas-wrapper mb-5 scroll-pull">
            <form class="form" id="formUsuarios" novalidate="novalidate">
                <input type="text" class="d-none" id="inputIdUsuario" value="0">

                <div class="form-group row">
                    <div class="col-6">
                        <label for="inputNombreUsuario"><span class="text-danger">*</span> Nombre</label>
                        <input type="text" id="inputNombreUsuario" name="inputNombreUsuario" class="form-control"  placeholder="Nombre de usuario" autocomplete="off"/>
                    </div>
                    <div class="col-6">
                        <label for="inputContactoUsuario"> Contacto</label>
                        <input type="text" id="inputContactoUsuario" name="inputContactoUsuario" class="form-control"  placeholder="Telefono" autocomplete="off"/>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-6">
                        <label for="inputContraseniaUsuario"><span class="text-danger">*</span> Contraseña</label>
                        <input type="password" id="inputContraseniaUsuario" name="inputContraseniaUsuario" class="form-control"  placeholder="Contraseña" autocomplete="off"/>
                    </div>
                    <div class="col-6">
                        <label for="inputContraseniaBUsuario"><span class="text-danger">*</span> Confirmar contraseña</label>
                        <input type="password" id="inputContraseniaBUsuario" name="inputContraseniaBUsuario" class="form-control"  placeholder="Confirmación" autocomplete="off"/>
                    </div>
                </div>

                <div class="form-group">
                    <label for="inputPropietarioUsuario"><span class="text-danger">*</span> Propietario</label>
                    <input type="text" id="inputPropietarioUsuario" name="inputPropietarioUsuario" class="form-control"  placeholder="Nombre completo del propietario" autocomplete="off"/>
                </div>

                <div class="separator separator-dashed mb-5"></div>

                <div class="form-group row mb-0">

                    <% if(permisos.success) {
                        for (let i = 0; i < permisos.data.length; i++) {
                            let permisoId = permisos.data[i].permiso_id; %>
                            <div class="col-lg-12 mb-3">
                                <span class="switch switch-sm switch-outline switch-icon switch-primary">
                                    <label>
                                        <input type="checkbox" id="input<%= permisoId %>" name="inputPermisoUsuario" value="<%= permisoId %>" checked="checked"/>
                                        <span></span>                        
                                    </label>
                                    <label for="input<%= permisoId %>" class="ml-2 text-primary font-weight-bold"> <%= permisos.data[i].permiso_nombre %></label>
                                </span>
                                <span class="form-text text-muted pl-14 mt-n1"><%= permisos.data[i].permiso_descripcion %></span>
                            </div>
                      <% }
                    } else { %>
                        <div class="col-lg-6 mb-3">
                            <%= permisos.message %>
                        </div>
                    <% } %>
                </div>
            </form>
        </div>

        <div class="offcanvas-footer">
            <button type="button" class="btn btn-primary btn-block" id="btnGuardar">
                ¡Guardar datos de la cuenta!
            </button>
        </div>
    </div>
</div>

<!-- Modal para cambio de contraseña-->
<div class="modal fade" id="mdlCambioContrasenia" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdrop" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    Cambiar la contraseña </br>
                    <span class="text-muted font-weight-bold font-size-sm mt-1">Cambia la contraseña de la cuenta</span>
                </h5>
                

                <div class="opciones">
                    <button type="button" class="btn btn-danger font-weight-bolder mr-2" id="btnCambiarPass">Guardar cambios</button>
					<button type="button" data-dismiss="modal" class="btn btn-light font-weight-bolder">Cancelar</button>
                </div>
            </div>
            <div class="modal-body">
                <!--begin::Alert-->
                <div class="alert alert-custom alert-light-danger fade show mb-10" role="alert">
                    <div class="alert-icon">
                        <span class="svg-icon svg-icon-3x svg-icon-danger">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                    <rect x="0" y="0" width="24" height="24"/>
                                    <circle fill="#000000" opacity="0.3" cx="12" cy="12" r="10"/>
                                    <rect fill="#000000" x="11" y="10" width="2" height="7" rx="1"/>
                                    <rect fill="#000000" x="11" y="7" width="2" height="2" rx="1"/>
                                </g>
                            </svg>
                        </span>
                    </div>
                    <div class="alert-text font-weight-bold">
                        Proporcione a sus usuarios la información adecuada sobre el uso y cuidado de las contraseñas,
                        indíqueles que periódicamente pueden cambiar sus contraseñas.
                    </div>
                    <div class="alert-close">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true"><i class="ki ki-close"></i></span>
                        </button>
                    </div>
                </div>

                <form class="form" id="frmCambioContrasenia">
                    <input type="hidden" id="usuario_id" name="usuario_id" value="0" />
                    <div class="form-group row">
                        <label class="col-xl-3 col-lg-3 col-form-label text-alert">Nueva Contraseña</label>
                        <div class="col-lg-9 col-xl-6">
                            <input type="password" name="newPassword" class="form-control form-control-lg form-control-solid" value="" placeholder="Escriba la nueva contraseña" />
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-xl-3 col-lg-3 col-form-label text-alert">Confirmar contraseña</label>
                        <div class="col-lg-9 col-xl-6">
                            <input type="password" name="confirmPassword" class="form-control form-control-lg form-control-solid" value="" placeholder="Confirmar la nueva contraseña" />
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script src="resources/js/pages/usuario.script.js?v=1.1.1"></script>